import time
from gpiozero import MotionSensor # MotionSensorは人感センサーを扱うためのものだよ

# ----------------------------------------------------
# ここから設定だよ！
# ----------------------------------------------------

# 人感センサーのOUTピンを接続したGPIO番号を指定するよ。
# 今回は12番ピン（GPIO18）に接続したので、「18」を指定するよ！
SENSOR_PIN = 18

# ----------------------------------------------------
# ここからプログラム本体だよ！
# ----------------------------------------------------

# MotionSensorオブジェクトを作成するよ。
# SENSOR_PINで指定したGPIOピンを監視してくれるようになるんだ。
pir = MotionSensor(SENSOR_PIN)

print("人感センサーの監視を開始しました。")
print("Ctrl+Cを押すとプログラムを終了できます。")

try:
    # センサーの状態をずっと監視し続けるための無限ループだよ
    while True:
        # pir.motion_detected は、センサーが動きを検知したら True、
        # 検知していなければ False になるんだ。
        if pir.motion_detected:
            # 動きを検知したとき
            print("ON!")
        else:
            # 動きを検知していないとき
            print("OFF")

        # 短い時間待機することで、CPUに負荷をかけすぎないようにするよ。
        # 0.5秒ごとにセンサーの状態を確認するんだ。
        time.sleep(0.5)

except KeyboardInterrupt:
    # Ctrl+Cが押されたら、この部分が実行されてプログラムが終了するよ。
    print("\nプログラムを終了します。")